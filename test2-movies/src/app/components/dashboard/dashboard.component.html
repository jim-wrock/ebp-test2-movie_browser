<div class="background"></div>

<div class="page-container" *ngIf="dataService.movies">
  <!-- movie cards - TODO harmonize card height if no movie.backdrop_path -->
  <div class="row container-fluid">
    <div class="col-xl-3 col-lg-3 col-md-4 col-xs-6 card-col" *ngFor="let movie of dataService.movies">
      <div class="card" (click)="toggleDetails(movie.id)">
        <h3>{{movie.title}}</h3>
        <img src="{{movie.backdrop_path ? movie.backdrop_path : 'https://www.podcastscience.fm/wp-content/uploads/2020/01/question-mark-2123967_1920.jpg'}}" class="card-img-top">
      </div>
    </div>
  </div>
  <!-- movie details modal -->
  <div [ngClass]="[detailsShown ? 'movie-details__shown' : 'movie-details__hidden']" class="movie-details" (click)="toggleDetails()">
    <div class="movie-details__wrapper">
      <h1 class="movie-details__title">{{selectedMovie?.title}}</h1>
      <img src="{{selectedMovie?.backdrop_path ? selectedMovie?.backdrop_path : 'https://www.podcastscience.fm/wp-content/uploads/2020/01/question-mark-2123967_1920.jpg'}}" class="movie-details__poster">
      <p id="movie-details__overview">{{selectedMovie?.overview}}</p>
      <p id="movie-details__votes">{{"Note " + selectedMovie?.vote_average }}</p>
      <button mat-fab color="warn" aria-label="Example icon button with a heart icon" (click)="dataService.addToFavorites(selectedMovie)" *ngIf="detailsShown">
        <mat-icon>favorite</mat-icon>
      </button>
    </div>
  </div>
</div>

